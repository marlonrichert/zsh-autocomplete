#!/usr/bin/env zsh

if [[ $LBUFFER == *$'\n'* ]]; then
  zle .up-line
else
  zle history-search -w
fi
